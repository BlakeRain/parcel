<parcel-modal class="hidden" hx-target="this" hx-swap="outerHTML">
  <form
    class="form gap-4"
    hx-post="/uploads/{{ upload.id }}/tags/edit">
    <input type="hidden" name="csrf_token" value="{{ csrf_token }}">
    <h1 class="text-2xl font-bold">
      <span class="icon-tag"></span>
      Edit Tags
    </h1>
    <div class="flex flex-col gap-1">
      <parcel-tag-input name="tags" value="{{ tags | join(",") }}">
        <datalist id="available-tags-{{ upload.id }}">>
          {% for tag in available %}
            <option value="{{ tag.name }}"></option>
          {% endfor %}
        </datalist>
      </parcel-tag-input>
      <p class="text-sm text-gray-500">
        Tags can be letters, numbers, underscores, dashes, and spaces.
      </p>
    </div>
    <div class="buttons reverse end mt-2">
      <button
        type="submit"
        class="button"
        data-loading-disable>
        <span
          class="icon-check"
          data-loading-class="icon-loader-circle animate-spin"
          data-loading-class-remove="icon-check"></span>
        Save tags
      </button>
      <button
        class="button hollow"
        onclick="event.preventDefault(); event.target.closest('parcel-modal').closeModal();">
        Cancel
      </button>
    </div>
  </form>
</parcel-modal>
